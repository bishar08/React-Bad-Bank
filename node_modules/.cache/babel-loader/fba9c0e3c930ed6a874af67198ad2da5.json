{"ast":null,"code":"import _slicedToArray from\"/Users/bisharmohamed/Desktop/react-bank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import BankForm from'../../forms/BankForm';import Card from'../../components/Card/Card';import UserContext from'../../features/Context';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateAccount(props){var ctx=React.useContext(UserContext);var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),error=_React$useState2[0],setError=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),success=_React$useState4[0],setSuccess=_React$useState4[1];function handleSubmit(name,email,password){var index=ctx.users.findIndex(function(el){return el.email===email;});if(index===-1){// ctx.users.push({ name, email, password, balance: 0 });\nprops.createUser({name:name,email:email,password:password,balance:0});setSuccess(true);}else setError({authError:'user with this email already exists!'});}function clearForm(){setSuccess(false);}return/*#__PURE__*/_jsx(\"div\",{className:\"create-account container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(Card,{bgcolor:\"info\",header:\"Create Account\",hideCurrentUser:true,children:success?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Success\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:clearForm,children:\"Create Another Account\"})]}):/*#__PURE__*/_jsx(BankForm,{onSubmit:handleSubmit})})})})});}","map":{"version":3,"sources":["/Users/bisharmohamed/Desktop/react-bank/src/container/CreateAccount/CreateAccount.js"],"names":["React","BankForm","Card","UserContext","CreateAccount","props","ctx","useContext","useState","error","setError","success","setSuccess","handleSubmit","name","email","password","index","users","findIndex","el","createUser","balance","authError","clearForm"],"mappings":"6HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,4BAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,C,6IAEA,cAAe,SAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC3C,GAAMC,CAAAA,GAAG,CAAGN,KAAK,CAACO,UAAN,CAAiBJ,WAAjB,CAAZ,CACA,oBAA0BH,KAAK,CAACQ,QAAN,CAAe,IAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,qBAA8BV,KAAK,CAACQ,QAAN,CAAe,KAAf,CAA9B,qDAAOG,OAAP,qBAAgBC,UAAhB,qBAEA,QAASC,CAAAA,YAAT,CAAsBC,IAAtB,CAA4BC,KAA5B,CAAmCC,QAAnC,CAA6C,CAC3C,GAAIC,CAAAA,KAAK,CAAGX,GAAG,CAACY,KAAJ,CAAUC,SAAV,CAAoB,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACL,KAAH,GAAaA,KAArB,EAApB,CAAZ,CACA,GAAIE,KAAK,GAAK,CAAC,CAAf,CAAkB,CAChB;AACAZ,KAAK,CAACgB,UAAN,CAAiB,CAAEP,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAAeC,QAAQ,CAARA,QAAf,CAAyBM,OAAO,CAAE,CAAlC,CAAjB,EACAV,UAAU,CAAC,IAAD,CAAV,CACD,CAJD,IAIOF,CAAAA,QAAQ,CAAC,CAAEa,SAAS,CAAE,sCAAb,CAAD,CAAR,CACR,CAED,QAASC,CAAAA,SAAT,EAAqB,CACnBZ,UAAU,CAAC,KAAD,CAAV,CACD,CAED,mBACE,YAAK,SAAS,CAAC,0BAAf,uBACE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,IAAD,EAAM,OAAO,CAAC,MAAd,CAAqB,MAAM,CAAC,gBAA5B,CAA6C,eAAe,CAAE,IAA9D,UACGD,OAAO,cACN,wCACE,+BADF,cAEE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,eAFZ,CAGE,OAAO,CAAEa,SAHX,oCAFF,GADM,cAYN,KAAC,QAAD,EAAU,QAAQ,CAAEX,YAApB,EAbJ,EADF,EADF,EADF,EADF,CAwBD","sourcesContent":["import React from 'react'\nimport BankForm from '../../forms/BankForm'\nimport Card from '../../components/Card/Card'\nimport UserContext from '../../features/Context'\n\nexport default function CreateAccount(props) {\n  const ctx = React.useContext(UserContext)\n  const [error, setError] = React.useState(null)\n  const [success, setSuccess] = React.useState(false)\n\n  function handleSubmit(name, email, password) {\n    let index = ctx.users.findIndex((el) => el.email === email)\n    if (index === -1) {\n      // ctx.users.push({ name, email, password, balance: 0 });\n      props.createUser({ name, email, password, balance: 0 })\n      setSuccess(true)\n    } else setError({ authError: 'user with this email already exists!' })\n  }\n\n  function clearForm() {\n    setSuccess(false)\n  }\n\n  return (\n    <div className=\"create-account container\">\n      <div className=\"row\">\n        <div className=\"col-sm-8\">\n          <Card bgcolor=\"info\" header=\"Create Account\" hideCurrentUser={true}>\n            {success ? (\n              <>\n                <h5>Success</h5>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-light\"\n                  onClick={clearForm}\n                >\n                  Create Another Account\n                </button>\n              </>\n            ) : (\n              <BankForm onSubmit={handleSubmit} />\n            )}\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}