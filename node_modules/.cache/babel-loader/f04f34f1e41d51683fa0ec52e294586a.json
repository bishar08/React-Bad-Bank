{"ast":null,"code":"var _jsxFileName = \"/Users/bisharmohamed/Desktop/react-bank/src/container/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport BankForm from '../../forms/BankForm';\nimport Card from '../../components/Card/Card';\nimport UserContext from '../../features/Context';\nimport CurrentUser from '../../features/CurrentUser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n\n  const ctx = React.useContext(UserContext);\n  const [error, setError] = React.useState(null);\n  const [success, setSuccess] = React.useState(ctx.loggedInUser !== undefined);\n\n  function handleSubmit(name, email, password) {\n    setError('');\n    let userId;\n    let user = ctx.users.find((el, i) => {\n      userId = i;\n      return el.email === email;\n    });\n\n    if (!user || user && user.password !== password) {\n      setError('Invalid Credentials');\n    }\n\n    console.log(userId, user); // ctx.loggedInUser = userId;\n\n    props.setLoggedInUser(userId);\n    setSuccess(true); // if (userId == 0) {\n    //   props.history.push(\"/alldata/\");\n    // } else {\n    //   props.history.push(\"/deposit/\");\n    // }\n\n    return true;\n  } // function clearForm() {\n  //   setSuccess(false);\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-8\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          bgcolor: \"info\",\n          header: \"Login\",\n          hideCurrentUser: true,\n          children: success ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: [\"Successfully Logged In \", /*#__PURE__*/_jsxDEV(CurrentUser, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(BankForm, {\n            onSubmit: handleSubmit,\n            isName: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"AmhjYqI+qd2+uvguILad4K2FXRo=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/bisharmohamed/Desktop/react-bank/src/container/Login/Login.js"],"names":["React","BankForm","Card","UserContext","CurrentUser","Login","props","ctx","useContext","error","setError","useState","success","setSuccess","loggedInUser","undefined","handleSubmit","name","email","password","userId","user","users","find","el","i","console","log","setLoggedInUser"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;;;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AACnC,QAAMC,GAAG,GAAGP,KAAK,CAACQ,UAAN,CAAiBL,WAAjB,CAAZ;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBV,KAAK,CAACW,QAAN,CAAe,IAAf,CAA1B;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,KAAK,CAACW,QAAN,CAAeJ,GAAG,CAACO,YAAJ,KAAqBC,SAApC,CAA9B;;AAEA,WAASC,YAAT,CAAsBC,IAAtB,EAA4BC,KAA5B,EAAmCC,QAAnC,EAA6C;AAC3CT,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACA,QAAIU,MAAJ;AACA,QAAIC,IAAI,GAAGd,GAAG,CAACe,KAAJ,CAAUC,IAAV,CAAe,CAACC,EAAD,EAAKC,CAAL,KAAW;AACnCL,MAAAA,MAAM,GAAGK,CAAT;AACA,aAAOD,EAAE,CAACN,KAAH,KAAaA,KAApB;AACD,KAHU,CAAX;;AAIA,QAAI,CAACG,IAAD,IAAUA,IAAI,IAAIA,IAAI,CAACF,QAAL,KAAkBA,QAAxC,EAAmD;AACjDT,MAAAA,QAAQ,CAAC,qBAAD,CAAR;AACD;;AACDgB,IAAAA,OAAO,CAACC,GAAR,CAAYP,MAAZ,EAAoBC,IAApB,EAV2C,CAW3C;;AACAf,IAAAA,KAAK,CAACsB,eAAN,CAAsBR,MAAtB;AACAP,IAAAA,UAAU,CAAC,IAAD,CAAV,CAb2C,CAc3C;AACA;AACA;AACA;AACA;;AACA,WAAO,IAAP;AACD,GAzBkC,CA2BnC;AACA;AACA;;;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,OAAO,EAAC,MAAd;AAAqB,UAAA,MAAM,EAAC,OAA5B;AAAoC,UAAA,eAAe,EAAE,IAArD;AAAA,oBACGD,OAAO,gBACN;AAAA,mCACE;AAAA,iEACyB,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,sBADzB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,2BADM,gBAON,QAAC,QAAD;AAAU,YAAA,QAAQ,EAAEI,YAApB;AAAkC,YAAA,MAAM,EAAE;AAA1C;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD;;GAlDuBX,K;;KAAAA,K","sourcesContent":["import React from 'react'\nimport BankForm from '../../forms/BankForm'\nimport Card from '../../components/Card/Card'\nimport UserContext from '../../features/Context'\nimport CurrentUser from '../../features/CurrentUser'\n\nexport default function Login(props) {\n  const ctx = React.useContext(UserContext)\n  const [error, setError] = React.useState(null)\n  const [success, setSuccess] = React.useState(ctx.loggedInUser !== undefined)\n\n  function handleSubmit(name, email, password) {\n    setError('')\n    let userId\n    let user = ctx.users.find((el, i) => {\n      userId = i\n      return el.email === email\n    })\n    if (!user || (user && user.password !== password)) {\n      setError('Invalid Credentials')\n    }\n    console.log(userId, user)\n    // ctx.loggedInUser = userId;\n    props.setLoggedInUser(userId)\n    setSuccess(true)\n    // if (userId == 0) {\n    //   props.history.push(\"/alldata/\");\n    // } else {\n    //   props.history.push(\"/deposit/\");\n    // }\n    return true\n  }\n\n  // function clearForm() {\n  //   setSuccess(false);\n  // }\n\n  return (\n    <div className=\"login container\">\n      <div className=\"row\">\n        <div className=\"col-sm-8\">\n          <Card bgcolor=\"info\" header=\"Login\" hideCurrentUser={true}>\n            {success ? (\n              <>\n                <h5>\n                  Successfully Logged In <CurrentUser />\n                </h5>\n              </>\n            ) : (\n              <BankForm onSubmit={handleSubmit} isName={false} />\n            )}\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}