{"ast":null,"code":"import _slicedToArray from\"/Users/bisharmohamed/Desktop/react-bank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Balance from'../features/Balance';import Card from'../components/Card/Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function TransactForm(props){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),error=_React$useState2[0],setError=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),amount=_React$useState4[0],setAmount=_React$useState4[1];function validate(label,value){if(!value){return'Error: '+label+' is required';}console.log(value,typeof value,value<=50000);if(label.toLowerCase()==='amount'&&!/^[0-9]+$/.test(value)&&value>=1&&value<=50000){console.log(value,typeof value,value<=50000);return'Error: Amount should be between 1 and 50000';}return true;}function handleDeposit(){setError('');var error={};var inputs={Amount:amount};Object.keys(inputs).map(function(key){var isValid=validate(key,inputs[key]);// inputs[key] return the value of the object inputs based on the key\nif(isValid!==true){error[key.toLowerCase()]=isValid;}});console.log(error);if(Object.keys(error).length>0){setError(error);return;}props.onSubmit&&typeof props.onSubmit==='function'&&props.onSubmit(amount);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{bgcolor:props.bgcolor,header:props.label,body:/*#__PURE__*/_jsxs(_Fragment,{children:[error&&error.authError&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error.authError}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Balance,{})}),/*#__PURE__*/_jsx(\"br\",{}),props.label,\" Amount\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"amount\",className:\"form-control\",id:\"amount\",placeholder:\"Enter amount\",value:amount,onChange:function onChange(e){return setAmount(e.currentTarget.value);}}),error&&error.amount&&/*#__PURE__*/_jsxs(\"div\",{children:[\" \",error.amount,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:handleDeposit,children:props.submitButton})]})})});}","map":{"version":3,"sources":["/Users/bisharmohamed/Desktop/react-bank/src/forms/TransactForm.js"],"names":["React","Balance","Card","TransactForm","props","useState","error","setError","amount","setAmount","validate","label","value","console","log","toLowerCase","test","handleDeposit","inputs","Amount","Object","keys","map","key","isValid","length","onSubmit","bgcolor","authError","e","currentTarget","submitButton"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Balance from '../features/Balance'\nimport Card from '../components/Card/Card'\n\nexport default function TransactForm(props) {\n  const [error, setError] = React.useState(null)\n  const [amount, setAmount] = React.useState('')\n\n  function validate(label, value) {\n    if (!value) {\n      return 'Error: ' + label + ' is required'\n    }\n    console.log(value, typeof value, value <= 50000)\n    if (\n      label.toLowerCase() === 'amount' &&\n      !/^[0-9]+$/.test(value) &&\n      value >= 1 &&\n      value <= 50000\n    ) {\n      console.log(value, typeof value, value <= 50000)\n      return 'Error: Amount should be between 1 and 50000'\n    }\n    return true\n  }\n\n  function handleDeposit() {\n    setError('')\n    let error = {}\n    let inputs = { Amount: amount }\n\n    Object.keys(inputs).map((key) => {\n      let isValid = validate(key, inputs[key]) // inputs[key] return the value of the object inputs based on the key\n      if (isValid !== true) {\n        error[key.toLowerCase()] = isValid\n      }\n    })\n    console.log(error)\n\n    if (Object.keys(error).length > 0) {\n      setError(error)\n      return\n    }\n\n    props.onSubmit &&\n      typeof props.onSubmit === 'function' &&\n      props.onSubmit(amount)\n  }\n\n  return (\n    <div>\n      <Card\n        bgcolor={props.bgcolor}\n        header={props.label}\n        body={\n          <>\n            {error && error.authError && (\n              <div className=\"alert alert-danger\">{error.authError}</div>\n            )}\n            <div>\n              <Balance />\n            </div>\n            <br />\n            {props.label} Amount\n            <br />\n            <input\n              type=\"amount\"\n              className=\"form-control\"\n              id=\"amount\"\n              placeholder=\"Enter amount\"\n              value={amount}\n              onChange={(e) => setAmount(e.currentTarget.value)}\n            />\n            {error && error.amount && <div> {error.amount} </div>}\n            <br />\n            <button\n              type=\"submit\"\n              className=\"btn btn-light\"\n              onClick={handleDeposit}\n            >\n              {props.submitButton}\n            </button>\n          </>\n        }\n      />\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}