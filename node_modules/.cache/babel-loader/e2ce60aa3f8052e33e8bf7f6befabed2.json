{"ast":null,"code":"import _slicedToArray from\"/Users/bisharmohamed/Desktop/react-bank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Card from\"../components/Card/Card\";import UserContext from\"../features/Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function BankForm(props){var _React$useState=React.useState(props.error||null),_React$useState2=_slicedToArray(_React$useState,2),error=_React$useState2[0],setError=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),name=_React$useState4[0],setName=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),email=_React$useState6[0],setEmail=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),password=_React$useState8[0],setPassword=_React$useState8[1];function validate(label,value){if(!value){return\"Error: \"+label+\" is required\";}if(label.toLowerCase()===\"name\"&&!/^[a-zA-Z ]*$/.test(value)){return\"Error: Name should be using characters\";}if(label.toLowerCase()===\"email\"&&!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)){return\"Error: Email should be using @ format\";}if(label.toLowerCase()===\"password\"&&!/^[a-z0-9]+$/i.test(value)&&value.length>=8&&value.length<=13){return\"Error: Passwd should be using alphanumeric, min 8, max 13\";}return true;}function handlSubmit(){var error={};var inputs={Email:email,Password:password};if(props.isName!==false)inputs[\"Name\"]=name;Object.keys(inputs).map(function(key){var isValid=validate(key,inputs[key]);// inputs[key] return the value of the object inputs based on the key\nif(isValid!==true){error[key.toLowerCase()]=isValid;}});console.log(error);if(Object.keys(error).length>0){setError(error);return;}if(props.onSubmit)props.onSubmit(name,email,password);}return/*#__PURE__*/_jsxs(\"div\",{children:[error&&error.authError&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error.authError}),props.isName!==false&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"Name\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"name\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.currentTarget.value);}}),error&&error.name&&/*#__PURE__*/_jsxs(\"div\",{children:[\" \",error.name,\" \"]}),/*#__PURE__*/_jsx(\"br\",{})]}),\"Email address\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.currentTarget.value);}}),error&&error.email&&/*#__PURE__*/_jsxs(\"div\",{children:[\" \",error.email,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),\"Password\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Enter password\",value:password,onChange:function onChange(e){return setPassword(e.currentTarget.value);}}),error&&error.password&&/*#__PURE__*/_jsxs(\"div\",{children:[\" \",error.password,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:handlSubmit,children:props.submitButton||\"Submit\"})]});}","map":{"version":3,"sources":["/Users/bisharmohamed/Desktop/react-bank/src/forms/BankForm.js"],"names":["React","Card","UserContext","BankForm","props","useState","error","setError","name","setName","email","setEmail","password","setPassword","validate","label","value","toLowerCase","test","length","handlSubmit","inputs","Email","Password","isName","Object","keys","map","key","isValid","console","log","onSubmit","authError","e","currentTarget","submitButton"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Card from \"../components/Card/Card\";\nimport UserContext from \"../features/Context\";\n\nexport default function BankForm(props) {\n  const [error, setError] = React.useState(props.error || null);\n  const [name, setName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  function validate(label, value) {\n    if (!value) {\n      return \"Error: \" + label + \" is required\";\n    }\n    if (label.toLowerCase() === \"name\" && !/^[a-zA-Z ]*$/.test(value)) {\n      return \"Error: Name should be using characters\";\n    }\n    if (\n      label.toLowerCase() === \"email\" &&\n      !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)\n    ) {\n      return \"Error: Email should be using @ format\";\n    }\n    if (\n      label.toLowerCase() === \"password\" &&\n      !/^[a-z0-9]+$/i.test(value) &&\n      value.length >= 8 &&\n      value.length <= 13\n    ) {\n      return \"Error: Passwd should be using alphanumeric, min 8, max 13\";\n    }\n    return true;\n  }\n\n  function handlSubmit() {\n    let error = {};\n    let inputs = { Email: email, Password: password };\n    if (props.isName !== false) inputs[\"Name\"] = name;\n\n    Object.keys(inputs).map((key) => {\n      let isValid = validate(key, inputs[key]); // inputs[key] return the value of the object inputs based on the key\n      if (isValid !== true) {\n        error[key.toLowerCase()] = isValid;\n      }\n    });\n    console.log(error);\n\n    if (Object.keys(error).length > 0) {\n      setError(error);\n      return;\n    }\n    if (props.onSubmit) props.onSubmit(name, email, password);\n  }\n\n  return (\n    <div>\n        {error && error.authError && (\n          <div className=\"alert alert-danger\">{error.authError}</div>\n        )}\n        {props.isName !== false && (\n          <>\n            Name\n            <br />\n            <input\n              type=\"input\"\n              className=\"form-control\"\n              id=\"name\"\n              placeholder=\"Enter name\"\n              value={name}\n              onChange={(e) => setName(e.currentTarget.value)}\n            />\n            {error && error.name && <div> {error.name} </div>}\n            <br />\n          </>\n        )}\n        Email address\n        <br />\n        <input\n          type=\"input\"\n          className=\"form-control\"\n          id=\"email\"\n          placeholder=\"Enter email\"\n          value={email}\n          onChange={(e) => setEmail(e.currentTarget.value)}\n        />\n        {error && error.email && <div> {error.email} </div>}\n        <br />\n        Password\n        <br />\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password\"\n          placeholder=\"Enter password\"\n          value={password}\n          onChange={(e) => setPassword(e.currentTarget.value)}\n        />\n        {error && error.password && <div> {error.password} </div>}\n        <br />\n        <button type=\"submit\" className=\"btn btn-light\" onClick={handlSubmit}>\n          {props.submitButton || \"Submit\"}\n        </button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}